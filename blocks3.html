<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blocks</title>


    <style>
        body {margin-bottom: 100px;}

        .main{

        }
        .content {
            float: left;
            border: 1px solid gray;
            padding: 8px;

        }



    </style>



</head>
<body>


<div class="main">

    <div id="Yellow" class="content" style="background: lightyellow; width: 170px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
    </div>

    <div id="Cyan" class="content" style="background: lightcyan; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>
    <div id="Coral" class="content" style="background: lightcoral; width: 170px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>

    </div>

    <div id="Gray" class="content" style="background: lightgray; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>

    <div id="Green" class="content" style="background: lightgreen; width: 170px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>

    </div>

    <div id="Pink" class="content" style="background: lightpink; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
    </div>

    <div id="Yellow2" class="content" style="background: lightyellow; width: 170px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
    </div>

    <div id="Cyan2" class="content" style="background: lightcyan; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>
    <div id="Coral2" class="content" style="background: lightcoral; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>

    </div>
    <div id="Steel" class="content" style="background: lightsteelblue; width: 170px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
    </div>
    <div id="Yellow3" class="content" style="background: lightyellow; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
    </div>

    <div id="Yellow4" class="content" style="background: lightyellow; width: 170px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
    </div>

    <div id="Cyan4" class="content" style="background: lightcyan; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>
    <div id="Coral4" class="content" style="background: lightcoral; width: 270px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>

    </div>
    <div id="Steel2" class="content" style="background: lightsteelblue; width: 170px;">

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. 
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh.  Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
    </div>

</div>



</body>
<script>
    var blocks = document.querySelectorAll('div.content');
    var topY =  blocks[0].offsetTop;


    function ajustHeight(startP, finishP, maxHeight){
        for (let j = startP; j < finishP + 1; j++){
                
                blocks[j].style.height = maxHeight + "px";
                }
    }

    function maxHeightFinder (startP, finishP){
        let maxHeight = 0;
        for (let j = startP; j < finishP + 1; j++){
                if (blocks[j].offsetHeight > maxHeight){
                    maxHeight = blocks[j].offsetHeight;
                }
            }
        return maxHeight;

    }

    window.onload = function() {

        var startCounter = 0;
        var finishCounter = 0;

        for (i = 0; i < blocks.length; i++){

                if(i < blocks.length - 1 && blocks[i + 1].offsetTop > blocks[i].offsetTop){    //если следующий на другой с=троке

                    finishCounter = i;         
                    console.log(i, startCounter, finishCounter, blocks[i].offsetTop);         
                    ajustHeight(startCounter, finishCounter, maxHeightFinder(startCounter, finishCounter));
                    startCounter = i+1;

                }
                if (i === blocks.length - 1){
                    finishCounter = i; 
                    console.log(i, startCounter, finishCounter, blocks[i].offsetTop);         
                    ajustHeight(startCounter, finishCounter, maxHeightFinder(startCounter, finishCounter));
                }
            }

    }




</script>



</html>
